--- mock_vp.c
+++ mock_vp.c
@@ -1,3 +1,4 @@
+
 #include <stdio.h>
 #include <string.h>
 #include <unistd.h>
@@ -5,16 +6,17 @@
 char items[3][10];
 
 void func_a(){
-    char* buff;
+    char buff[40];
     int i = 0;
     do{
         printf("input item:");
-        buff = &items[i][0];
-        i++;
         fgets(buff, 40, stdin);
         buff[strcspn(buff, "\n")] = 0;
+        if (strlen(buff) != 0 && strlen(buff) <= 10) {
+            strcpy(&items[i][0], buff);
+            i++;
+        }
     }while(strlen(buff)!=0);
-    i--;
 }
 
 void func_b(){
@@ -23,8 +25,10 @@
     int j;
     printf("display item #:");
     scanf("%d", &j);
-    buff = &items[j][0];
-    printf("item %d: %s\n", j, buff);
+    if (j >= 0 && j < 3) {
+        buff = &items[j][0];
+        printf("item %d: %s\n", j, buff);
+    }
 }
 
 #ifndef ___TEST___
